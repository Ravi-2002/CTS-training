import React, { useEffect } from "react";
import { useSelector, useDispatch } from "react-redux";
import { fetchBlockServices, toggleBlockService } from "../redux/blockServicesSlice"; // adjust the import path as needed
import "bootstrap/dist/css/bootstrap.min.css";

const BlockServices = () => {
  const dispatch = useDispatch();
  const services = useSelector((state) => state.blockServices.services);
  const loading = useSelector((state) => state.blockServices.loading);
  const error = useSelector((state) => state.blockServices.error);

  useEffect(() => {
    dispatch(fetchBlockServices());
  }, [dispatch]);

  const handleToggle = (serviceName) => {
    dispatch(toggleBlockService(serviceName));
  };

  if (loading) return <p className="text-center mt-4">Loading...</p>;
  if (error) return <p className="text-center text-danger mt-4">{error}</p>;

  return (
    <div className="container mt-4">
      <h1 className="h4 mb-1">Be in charge of who does what on your account.</h1>
      <p className="text-muted mb-4">732.609.9414</p>

      {services.map(({ serviceName, shortDescription, sfoEnabled }) => (
        <div key={serviceName} className="d-flex justify-content-between align-items-center border-bottom py-3">
          <div>
            <p className="mb-1 fw-medium">{serviceName}</p>
            <small className="text-muted">{shortDescription}</small>
          </div>
          <div className="form-check form-switch">
            <input
              className="form-check-input"
              type="checkbox"
              role="switch"
              id={serviceName}
              checked={sfoEnabled === true}
              onChange={() => handleToggle(serviceName)}
            />
          </div>
        </div>
      ))}
    </div>
  );
};

export default BlockServices;


The BlockServices component is now integrated with Redux. It fetches the block services data from the backend and toggles each service using Redux actions. Let me know if you want to include API call statuses or save changes to the backend.

