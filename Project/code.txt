import React, { Suspense } from 'react';
import { render, screen } from '@testing-library/react';

// Lazy imports
const Home = React.lazy(() => import('./home/components'));
const DeviceDetail = React.lazy(() => import('./deviceDetail/components'));
const ServiceDetails = React.lazy(() => import('./home/components/servicedetails'));
const ViewLimitations = React.lazy(() => import('./deviceDetail/components/ViewLimitation'));
const CallsMessages = React.lazy(() => import('./deviceDetail/components/callsandmessages'));

describe('Lazy components', () => {
  test('should render Home component', async () => {
    render(
      <Suspense fallback={<div>Loading...</div>}>
        <Home />
      </Suspense>
    );
    expect(await screen.findByText(/Home/i)).toBeInTheDocument();
  });

  test('should render DeviceDetail component', async () => {
    render(
      <Suspense fallback={<div>Loading...</div>}>
        <DeviceDetail />
      </Suspense>
    );
    expect(await screen.findByText(/Device/i)).toBeInTheDocument();
  });

  test('should render ServiceDetails component', async () => {
    render(
      <Suspense fallback={<div>Loading...</div>}>
        <ServiceDetails />
      </Suspense>
    );
    expect(await screen.findByText(/Service/i)).toBeInTheDocument();
  });

  test('should render ViewLimitations component', async () => {
    render(
      <Suspense fallback={<div>Loading...</div>}>
        <ViewLimitations />
      </Suspense>
    );
    expect(await screen.findByText(/Limitations/i)).toBeInTheDocument();
  });

  test('should render CallsMessages component', async () => {
    render(
      <Suspense fallback={<div>Loading...</div>}>
        <CallsMessages />
      </Suspense>
    );
    expect(await screen.findByText(/Calls|Messages/i)).toBeInTheDocument();
  });
});