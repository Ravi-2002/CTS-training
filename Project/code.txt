import React from "react";
import { useParams, useNavigate } from "react-router-dom";
import styled from "styled-components";
import { useSelector } from "react-redux";
import { useHistory } from "react-router-dom/cjs/react-router-dom.min";
import { Button } from "@vds/buttons";
import { Title } from "@vds/typography";

const ServiceDetails = () => {
    const { serviceName } = useParams();
    const history = useHistory();
    const serviceDetailsMap = useSelector((state) => state.Home.services);

    let longDescription = "Description not found.";
    for (const category in serviceDetailsMap) {
        const service = serviceDetailsMap[category].find(
            (svc) => svc.serviceName === serviceName
        );
        if (service) {
            longDescription = service.longDescription || "No additional details available.";
            break;
        }
    }

    return (
        <ServiceDetail>
            <Title size='XLarge' bold>{serviceName}</Title>
            <p dangerouslySetInnerHTML={{ __html: longDescription }}></p>
            <ButtonWrapper>
            <Button
                size="large"
                surface="light"
                disabled={false}
                use="primary"
                onClick={() => history.goBack()}>
                Done
            </Button>;
            </ButtonWrapper>
        </ServiceDetail>
    );
};
const ServiceDetail = styled.div`
padding : 20px;
`;
const ButtonWrapper = styled.div`
  align-items:center;
  justify-content:center;
  display:flex;
  min-height:80vh;
`;

export default ServiceDetails;
