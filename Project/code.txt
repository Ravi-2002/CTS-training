test("covers optOut = 'Y' and destinationFlow = 'SCAN_ID' inside populateTransactionType", () => {
  reactGlobals.destinationFlow = "SCAN_ID";

  renderWithRouter(<Submission optOut="Y" />, {
    url: "data:image/png;base64,TESTDATA",
  });

  const submitButtons = screen.getAllByText("Submit");
  fireEvent.click(submitButtons[submitButtons.length - 1]); // click last Submit

  expect(postHttpClientRequest).toHaveBeenCalledTimes(1);

  const reqBody = JSON.parse(postHttpClientRequest.mock.calls[0][1].data);

  // Covers the IF block
  expect(reqBody.customerOpted).toBe("N");
  expect(reqBody.transactionType).toBe("MVO_ID_ADT_AUTH_NOTHANKS");
});